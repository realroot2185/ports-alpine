# Based on Alpine package of
# Contributor: SÃ¶ren Tempel <soeren+alpine@soeren-tempel.net>
# Alpine maintainer "Natanael Copa <ncopa@alpinelinux.org>"
#
# Maintainer: realroot <user3mila@disroot.org>
pkgname=xlibre-xf86-input-libinput
pkgver=1.5.0.1
pkgrel=1
pkgdesc="Xlibre input driver based on libinput"
url="https://github.com/X11Libre/xf86-input-libinput"
arch="all"
license="MIT"
depends_dev="libinput-dev xlibre-xserver-dev"
makedepends="$depends_dev autoconf automake eudev-dev libtool xorgproto"
subpackages="$pkgname-dev $pkgname-doc"
source="https://github.com/X11Libre/xf86-input-libinput/archive/refs/tags/xlibre-xf86-input-libinput-$pkgver.tar.gz"

build() {
	cd xf86-input-libinput-xlibre-xf86-input-libinput-$pkgver	
	./autogen.sh
    ./configure \
    	--build=$CBUILD \
    	--host=$CHOST \
    	--prefix=/usr \
    	--sysconfdir=/etc \
    	--mandir=/usr/share/man \
    	--localstatedir=/var
	make
}

check() {
	make check
}

package() {
	cd src/xf86-input-libinput-xlibre-xf86-input-libinput-$pkgver
	make DESTDIR="$pkgdir" install
}

sha512sums="
3b1b3fe28d69bde98d7e5aac2c1cdbf378a9966ca3ba806d14e8e09e370d368e65f6ddb42c2f2fb01eee86c6e310f98ebb7be30096eb21feb20deffc99c65c92  xlibre-xf86-input-libinput-1.5.0.1.tar.gz
"
